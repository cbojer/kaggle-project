---
title: "R Notebook"
output: html_notebook
---

```{r}
library(dplyr)
library(ggplot2)
library(readxl)
library(purrr)
```

```{r}
map2_dfr(
  c("RossmannLB", "WikiLB", "RecruitLB", "FavoritaLB", "Walmart1LB", "Walmart2LB"),
  c("Rossmann", "Wikipedia", "Recruit", "Favorita", "Walmart1", "Walmart2"),
  ~read_excel(
    "Writings/Leaderboard.xlsx", 
    sheet = .x,
    col_names = c("place", "pub", "team", "notebook", "members", "score", "entries", "last"), 
    col_types = c("numeric", "text", "text", "text", "text", "numeric", "numeric", "text"),
    skip = 1, 
  ) %>% 
  mutate(comp = .y)
  ) %>% 
  group_by(comp) %>% 
  mutate(pct_diff = (score - min(score))/min(score)*100) %>% 
  ggplot(aes(x = place, y = pct_diff)) + geom_point() + facet_wrap(~comp, scales = "free_y") +
  xlab("Placement") +
  ylab("Performance difference from Winner (%)")
  

```

